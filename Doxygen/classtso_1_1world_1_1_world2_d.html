<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Project Dollhouse: tso.world.World2D Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Project Dollhouse
   </div>
   <div id="projectbrief">A project aiming to rebuild TSO (The Sims Online) from the ground up.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classtso_1_1world_1_1_world2_d.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classtso_1_1world_1_1_world2_d-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tso.world.World2D Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles rendering the 2D world  
 <a href="classtso_1_1world_1_1_world2_d.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae6108d95fb86a2b07cfab840b1371664"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae6108d95fb86a2b07cfab840b1371664"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Initialize</b> (<a class="el" href="class_t_s_o_1_1_common_1_1rendering_1_1framework_1_1__3_d_layer.html">_3DLayer</a> layer)</td></tr>
<tr class="separator:ae6108d95fb86a2b07cfab840b1371664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c4de1011ec5b7ec4bd6aa3006c84bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae0c4de1011ec5b7ec4bd6aa3006c84bc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Init</b> (<a class="el" href="classtso_1_1world_1_1model_1_1_blueprint.html">Blueprint</a> blueprint)</td></tr>
<tr class="separator:ae0c4de1011ec5b7ec4bd6aa3006c84bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c5c10b56401c387d513583ab8d3233"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtso_1_1world_1_1_world2_d.html#a21c5c10b56401c387d513583ab8d3233">GetObjectIDAtScreenPos</a> (int x, int y, GraphicsDevice gd, <a class="el" href="classtso_1_1world_1_1_world_state.html">WorldState</a> <a class="el" href="structstate.html">state</a>)</td></tr>
<tr class="memdesc:a21c5c10b56401c387d513583ab8d3233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an object's ID given an object's screen position.  <a href="#a21c5c10b56401c387d513583ab8d3233">More...</a><br/></td></tr>
<tr class="separator:a21c5c10b56401c387d513583ab8d3233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c7286da756b86df7d93d455db67713"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtso_1_1world_1_1_world2_d.html#a96c7286da756b86df7d93d455db67713">PreDraw</a> (GraphicsDevice gd, <a class="el" href="classtso_1_1world_1_1_world_state.html">WorldState</a> <a class="el" href="structstate.html">state</a>)</td></tr>
<tr class="memdesc:a96c7286da756b86df7d93d455db67713"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prep work before screen is painted  <a href="#a96c7286da756b86df7d93d455db67713">More...</a><br/></td></tr>
<tr class="separator:a96c7286da756b86df7d93d455db67713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f234aec719d62bd477e3a1792978861"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtso_1_1world_1_1_world2_d.html#a9f234aec719d62bd477e3a1792978861">Draw</a> (GraphicsDevice gd, <a class="el" href="classtso_1_1world_1_1_world_state.html">WorldState</a> <a class="el" href="structstate.html">state</a>)</td></tr>
<tr class="memdesc:a9f234aec719d62bd477e3a1792978861"><td class="mdescLeft">&#160;</td><td class="mdescRight">Paint to screen  <a href="#a9f234aec719d62bd477e3a1792978861">More...</a><br/></td></tr>
<tr class="separator:a9f234aec719d62bd477e3a1792978861"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a72daa7119576e096f1fd14594fb865a1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72daa7119576e096f1fd14594fb865a1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>DrawCenterPoint</b> = true</td></tr>
<tr class="separator:a72daa7119576e096f1fd14594fb865a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ac50fad8aac87658c8a2d9a11a3415165"><td class="memItemLeft" align="right" valign="top">static SurfaceFormat[]&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_SURFACE_FORMATS</b></td></tr>
<tr class="separator:ac50fad8aac87658c8a2d9a11a3415165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c76f1aefa4a91a1d874357e0a3d19a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8c76f1aefa4a91a1d874357e0a3d19a"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_2D_BUFFERS</b> = 7</td></tr>
<tr class="separator:ab8c76f1aefa4a91a1d874357e0a3d19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a98a39c08e202b71b21765c9249c348"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a98a39c08e202b71b21765c9249c348"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_STATIC_FLOOR</b> = 0</td></tr>
<tr class="separator:a6a98a39c08e202b71b21765c9249c348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3dfede51ae5a111768f080ee385dbc0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad3dfede51ae5a111768f080ee385dbc0"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_STATIC_OBJECTS_PIXEL</b> = 1</td></tr>
<tr class="separator:ad3dfede51ae5a111768f080ee385dbc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a449be83025cb043552ff49bb9d35779f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a449be83025cb043552ff49bb9d35779f"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_STATIC_OBJECTS_DEPTH</b> = 2</td></tr>
<tr class="separator:a449be83025cb043552ff49bb9d35779f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac122a18567515f9b71f23c54d6c168"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ac122a18567515f9b71f23c54d6c168"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_STATIC_TERRAIN</b> = 3</td></tr>
<tr class="separator:a1ac122a18567515f9b71f23c54d6c168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099df63258bc0f7646a5c5ab5bd24ca7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a099df63258bc0f7646a5c5ab5bd24ca7"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_OBJID</b> = 4</td></tr>
<tr class="separator:a099df63258bc0f7646a5c5ab5bd24ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2bcc05810b449c1e9a5e7ec13e82820"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae2bcc05810b449c1e9a5e7ec13e82820"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_ARCHETECTURE_PIXEL</b> = 5</td></tr>
<tr class="separator:ae2bcc05810b449c1e9a5e7ec13e82820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659f9db9508b78aa83a5218d5bd7daed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a659f9db9508b78aa83a5218d5bd7daed"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_ARCHETECTURE_DEPTH</b> = 6</td></tr>
<tr class="separator:a659f9db9508b78aa83a5218d5bd7daed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles rendering the 2D world </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9f234aec719d62bd477e3a1792978861"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tso.world.World2D.Draw </td>
          <td>(</td>
          <td class="paramtype">GraphicsDevice&#160;</td>
          <td class="paramname"><em>gd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtso_1_1world_1_1_world_state.html">WorldState</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Paint to screen </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gd</td><td></td></tr>
    <tr><td class="paramname">state</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Draw static layers</p>
<p>Draw dynamic objects. If an object has been static for X frames move it back into the static layer</p>
<p>Objects </p>

</div>
</div>
<a class="anchor" id="a21c5c10b56401c387d513583ab8d3233"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short tso.world.World2D.GetObjectIDAtScreenPos </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GraphicsDevice&#160;</td>
          <td class="paramname"><em>gd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtso_1_1world_1_1_world_state.html">WorldState</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets an object's ID given an object's screen position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The object's X position.</td></tr>
    <tr><td class="paramname">y</td><td>The object's Y position.</td></tr>
    <tr><td class="paramname">gd</td><td>GraphicsDevice instance.</td></tr>
    <tr><td class="paramname">state</td><td><a class="el" href="classtso_1_1world_1_1_world_state.html" title="Holds state information retaining to world. ">WorldState</a> instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Object's ID if the object was found at the given position.</dd></dl>
<p>Draw all objects to a texture as their IDs</p>
<p>Objects </p>

</div>
</div>
<a class="anchor" id="a96c7286da756b86df7d93d455db67713"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tso.world.World2D.PreDraw </td>
          <td>(</td>
          <td class="paramtype">GraphicsDevice&#160;</td>
          <td class="paramname"><em>gd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtso_1_1world_1_1_world_state.html">WorldState</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prep work before screen is painted </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gd</td><td></td></tr>
    <tr><td class="paramname">state</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Tasks: If scroll, zoom or rotation has changed, redraw all static layers If architecture has changed, redraw appropriate static layer If there is a new object in the static layer, redraw the static layer If an objects in the static layer has changed, redraw the static layer and move the object to the dynamic layer If wall visibility has changed, redraw wall layer (should think about how this works with breakthrough wall mode</p>
<p>Redraw if its in static layer</p>
<p>Redraw if its in static layer</p>
<p>Draw archetecture to a texture</p>
<p>Draw static objects to a texture</p>
<p>Objects </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ac50fad8aac87658c8a2d9a11a3415165"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SurfaceFormat [] tso.world.World2D.BUFFER_SURFACE_FORMATS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">new</span> SurfaceFormat[] {</div>
<div class="line">            SurfaceFormat.Color,</div>
<div class="line">            SurfaceFormat.Color,</div>
<div class="line">            </div>
<div class="line">            SurfaceFormat.Single,</div>
<div class="line">            SurfaceFormat.Color,</div>
<div class="line">            </div>
<div class="line">            SurfaceFormat.Single,</div>
<div class="line">            </div>
<div class="line">            SurfaceFormat.Color,</div>
<div class="line">            SurfaceFormat.Single,</div>
<div class="line">        }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/zc456/Sources/Project-DollhouseZ/TSOClient/tso.world/World2D.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetso.html">tso</a></li><li class="navelem"><a class="el" href="namespacetso_1_1world.html">world</a></li><li class="navelem"><a class="el" href="classtso_1_1world_1_1_world2_d.html">World2D</a></li>
    <li class="footer">Generated on Thu Dec 4 2014 17:07:24 for Project Dollhouse by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
